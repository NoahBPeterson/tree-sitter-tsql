=====================================
GROUP BY ROLLUP
=====================================

SELECT col, SUM(val) FROM t GROUP BY ROLLUP(col)

---

(tsql_file
  (batch
    (sql_clauses
      (dml_clause
        (select_statement_standalone
          (select_statement
            (query_expression
              (query_specification
                (select)
                (select_list
                  (select_list_elem
                    (expression_elem
                      (expression
                        (full_column_name
                          (id_)))))
                  (select_list_elem
                    (expression_elem
                      (expression
                        (function_call
                          (aggregate_functions
                            (sum_)
                            (all_distinct_expression
                              (expression
                                (full_column_name
                                  (id_))))))))))
                (table_sources
                  (table_source
                    (table_source_item
                      (full_table_name
                        (id_)))))
                (groupby
                  (groupby_)
                  (group_by_item
                    (expression_list_
                      (expression
                        (full_column_name
                          (id_))))))))))))))

=====================================
GROUP BY CUBE
=====================================

SELECT col1, col2, SUM(val) FROM t GROUP BY CUBE(col1, col2)

---

(tsql_file
  (batch
    (sql_clauses
      (dml_clause
        (select_statement_standalone
          (select_statement
            (query_expression
              (query_specification
                (select)
                (select_list
                  (select_list_elem
                    (expression_elem
                      (expression
                        (full_column_name
                          (id_)))))
                  (select_list_elem
                    (expression_elem
                      (expression
                        (full_column_name
                          (id_)))))
                  (select_list_elem
                    (expression_elem
                      (expression
                        (function_call
                          (aggregate_functions
                            (sum_)
                            (all_distinct_expression
                              (expression
                                (full_column_name
                                  (id_))))))))))
                (table_sources
                  (table_source
                    (table_source_item
                      (full_table_name
                        (id_)))))
                (groupby
                  (groupby_)
                  (group_by_item
                    (expression_list_
                      (expression
                        (full_column_name
                          (id_)))
                      (expression
                        (full_column_name
                          (id_))))))))))))))

=====================================
GROUP BY GROUPING SETS
=====================================

SELECT col1, col2, SUM(val) FROM t GROUP BY GROUPING SETS((col1), (col2), ())

---

(tsql_file
  (batch
    (sql_clauses
      (dml_clause
        (select_statement_standalone
          (select_statement
            (query_expression
              (query_specification
                (select)
                (select_list
                  (select_list_elem
                    (expression_elem
                      (expression
                        (full_column_name
                          (id_)))))
                  (select_list_elem
                    (expression_elem
                      (expression
                        (full_column_name
                          (id_)))))
                  (select_list_elem
                    (expression_elem
                      (expression
                        (function_call
                          (aggregate_functions
                            (sum_)
                            (all_distinct_expression
                              (expression
                                (full_column_name
                                  (id_))))))))))
                (table_sources
                  (table_source
                    (table_source_item
                      (full_table_name
                        (id_)))))
                (groupby
                  (groupby_)
                  (group_by_item
                    (grouping_sets_item
                      (grouping_set
                        (expression_list_
                          (expression
                            (full_column_name
                              (id_)))))
                      (grouping_set
                        (expression_list_
                          (expression
                            (full_column_name
                              (id_)))))
                      (grouping_set))))))))))))
